(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},89846,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566);let r=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var l=e.i(43531),i=e.i(31278),n=e.i(71689),o=e.i(22016),c=e.i(7767);function d(){let e=(0,s.useSearchParams)(),d=(0,s.useRouter)(),x=e.get("plan")||"lite",m="standard"===x?50:20,[h,u]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[y,g]=(0,a.useState)(null),[b,j]=(0,a.useState)(!1),w="7977592554@ptyes",N=async()=>{if(!h||h.length<10)return void g({text:"Please enter a valid UTR.",type:"error"});let e=localStorage.getItem("token");if(!e)return void d.push("/login");f(!0),g(null);try{let[t]=await Promise.all([fetch(`${c.API_URL}/api/payment/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({utr:h,amount:m,plan:x})}),new Promise(e=>setTimeout(e,3e3))]),a=await t.json();t.ok?(g({text:"Payment Verified! Unlocking plan...",type:"success"}),setTimeout(()=>{d.push("/profile"),setTimeout(()=>window.location.reload(),100)},2e3)):g({text:a.message||"Verification failed.",type:"error"})}catch(e){g({text:"Something went wrong.",type:"error"})}finally{f(!1)}};return(0,t.jsxs)("div",{className:"flex flex-col items-center w-full max-w-md mx-auto",children:[(0,t.jsxs)("div",{className:"w-full bg-[#1e1e24] p-6 rounded-2xl border border-white/10 shadow-2xl",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-1",children:"Scan & Pay"}),(0,t.jsxs)("p",{className:"text-gray-400 text-sm",children:["Unlock ",(0,t.jsx)("span",{className:"text-white font-bold capitalize",children:x})," Plan for ",(0,t.jsxs)("span",{className:"text-green-400 font-bold",children:["â‚¹",m]})]})]}),(0,t.jsx)("div",{className:"bg-white p-4 rounded-xl mb-6 mx-auto w-max",children:(0,t.jsx)("img",{src:"/upi-qr.jpg",alt:"UPI QR Code",className:"w-72 h-72 object-contain"})}),(0,t.jsxs)("div",{className:"flex items-center justify-between bg-black/40 p-3 rounded-lg border border-white/5 mb-8",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300 font-mono select-all",children:w}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(w),j(!0),setTimeout(()=>j(!1),2e3)},className:"text-gray-400 hover:text-white transition-colors",children:b?(0,t.jsx)(l.Check,{size:16,className:"text-green-500"}):(0,t.jsx)(r,{size:16})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"enter UTR / Ref No."}),(0,t.jsx)("input",{type:"text",value:h,onChange:e=>u(e.target.value),placeholder:"e.g. 123456789012",className:"w-full bg-black text-white p-3 rounded-lg border border-white/10 focus:border-blue-500 outline-none transition-colors font-mono"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500 mt-2",children:"* Enter the 12-digit UTR number from your payment app (GPay/PhonePe/Paytm)."})]}),y&&(0,t.jsx)("div",{className:`text-sm text-center font-medium ${"success"===y.type?"text-green-400":"text-red-400"}`,children:y.text}),(0,t.jsx)("button",{onClick:N,disabled:p||!h,className:`w-full py-3 rounded-lg font-bold text-black transition-all ${p?"bg-gray-600 cursor-not-allowed":"bg-white hover:bg-gray-200"}`,children:p?(0,t.jsx)(i.Loader2,{className:"animate-spin mx-auto"}):"Verify Payment"})]})]}),(0,t.jsxs)(o.default,{href:"/premium",className:"mt-6 text-sm text-gray-500 hover:text-white flex items-center gap-2 transition-colors",children:[(0,t.jsx)(n.ArrowLeft,{size:16}),"Cancel & Go Back"]})]})}function x(){return(0,t.jsx)("div",{className:"min-h-screen bg-[#121212] text-white flex flex-col items-center py-20 px-4 overflow-y-auto",children:(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(i.Loader2,{className:"animate-spin text-white"}),children:(0,t.jsx)(d,{})})})}e.s(["default",()=>x],89846)}]);